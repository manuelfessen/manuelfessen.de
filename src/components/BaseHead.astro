---
import inter from '@fontsource/inter/files/inter-latin-400-normal.woff2'
import firacode from '@fontsource/fira-code/files/fira-code-latin-400-normal.woff2'
import '@fontsource/inter'
import '@fontsource/fira-code'
import 'katex/dist/katex.min.css'
import '@/styles/global.css'

import type { SiteMeta } from '@/types/index'
import siteMeta from '@/types/site-meta.config'

export type BaseHeadProps = SiteMeta

const {
  title,
  description = siteMeta.description,
  image = '/social.png',
  imageTwitter = '/social.png',
} = Astro.props as BaseHeadProps

const titleSeparator = 'â€¢'
//const siteTitle = `${title} ${titleSeparator} ${siteMeta.title}`;
const siteTitle = `${title}`
const canonicalURL = new URL(Astro.url.pathname, Astro.site)
---

<meta charset='utf-8' />
<meta name='viewport' content='width=device-width, initial-scale=1.0, viewport-fit=cover' />
<meta name='generator' content={Astro.generator} />
<link rel='icon' type='image/svg+xml' href='/favicon.ico' />

<!-- Primary Meta Tags -->
<title>{siteTitle}</title>
<meta name='title' content={siteTitle} />
<meta name='description' content={description} />

<!-- Open Graph / Facebook -->
<meta property='og:locale' content={siteMeta.ogLocale} />
<meta property='og:type' content='website' />
<meta property='og:url' content={canonicalURL} />
<link rel='canonical' href={canonicalURL} />
<meta property='og:title' content={title} />
<meta property='og:description' content={description} />
<meta property='og:image' content={new URL(image, Astro.url)} />

<meta property='twitter:card' content={image ? 'summary_large_image' : 'summary'} />
<meta property='twitter:url' content={Astro.url} />
<meta property='twitter:title' content={title} />
<meta property='twitter:description' content={description} />
<meta name='twitter:card' content='summary' />
<meta name='twitter:site' content='@nytimesbits' />
<meta name='twitter:creator' content='@nickbilton' />
<meta property='og:image' content={new URL(imageTwitter, Astro.url)} />
<meta property="twitter:image" content={new URL(image, Astro.url)}>

<meta name="theme-color" content="currentColor"/>

<link as='font' href={inter} type='font/woff2' crossorigin='anonymous' />
<link as='font' href={firacode} type='font/woff2' crossorigin='anonymous' />

<!-- Flowbite -->
<script src='../lib/flowbite.min.js'></script>

<script>
  import { inject } from '@vercel/analytics';
  inject();
</script>

<script type="text/javascript">
  (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
  })(window, document, "clarity", "script", "i1pofmk4j8");
  window.clarity('decline');
</script>