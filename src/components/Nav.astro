---
import ThemeToggle from './ThemeToggle.astro'
import { cx } from '@/lib/utils'

const items = [
  { name: 'Home', url: '/' },
  { name: 'Blog', url: '/blog/' },
  { name: 'Notes', url: '/notes/' },
  { name: 'Bookshelf', url: '/books/' },
]
---

<nav
  class='flex items-center justify-between w-full max-w-2xl border-gray-200 dark:border-gray-700 mx-auto py-4 sm:py-8 sm:pb-16 text-gray-900 dark:text-gray-100'
>
  <div class='ml-[-0.60rem]'>
    {
      items.map(({ name, url, target }) => (
        <a
          href={url}
          target={target}
          class={cx(
            'inline-block px-3 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors',
            Astro.url.pathname.split('/')[1] === url.replaceAll('/', '')
              ? 'text-gray-800 dark:text-gray-200 font-bold'
              : 'text-gray-500 dark:text-gray-300'
          )}
          {...(url.startsWith('http') ? { rel: 'noopener noreferrer' } : { rel: 'prefetch' })}
        >
          {name}
        </a>
      ))
    }
  </div>
  <ThemeToggle />
</nav>
