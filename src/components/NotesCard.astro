---
import type { Frontmatter } from '@/types'
import dayjs from 'dayjs'
import { cx } from '@/lib/utils';
const { slug, title, publishedAt } = Astro.props as Frontmatter
---

<a
class={cx(
  'flex flex-1 items-center space-x-3 rounded-md px-2 py-1.5 text-sm font-medium',
  Astro.url.pathname.split('/')[2] === slug.replaceAll('/', '')
    ? 'bg-black text-white hover:bg-black hover:text-white dark:bg-gray-700 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white'
    : 'text-gray-700 dark:text-gray-200 sm:hover:bg-gray-200 sm:hover:text-gray-900 sm:dark:hover:bg-gray-700 sm:dark:hover:text-gray-200'
)}
{...(slug.startsWith('http') ? { rel: 'noopener noreferrer' } : { rel: 'prefetch' })}
  href={`/notes/${slug}`}
  ><div class='flex flex-col justify-center space-y-1'>
    <div class='font-medium line-clamp-3 text-black dark:text-gray-100'>
      {title}
    </div>
    <time class='line-clamp-1 text-black text-opacity-50 dark:text-white dark:text-opacity-50'>
      {dayjs(publishedAt).format('DD MMMM YYYY')}
    </time>
  </div>
</a>
