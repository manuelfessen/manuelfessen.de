---
import BaseLayout from '../../layouts/BaseLayout.astro'
import NoteList from '../../components/notes/NoteList.astro'

export async function getStaticPaths({ paginate }) {
  let allPosts = (await Astro.glob("./*.md")).sort(
  (a, b) =>
    new Date(b.frontmatter.publishedAt).valueOf() -
    new Date(a.frontmatter.publishedAt).valueOf()
);

  return paginate(allPosts, {
    pageSize: 6
  })
}

const notes = (await Astro.glob('./*.md')).sort(
  (a, b) => new Date(b.frontmatter.publishedAt).valueOf() - new Date(a.frontmatter.publishedAt).valueOf(),
)
const recentNotes = (await Astro.glob('./*.md')).sort(
  (a, b) => new Date(b.frontmatter.publishedAt).valueOf() - new Date(a.frontmatter.publishedAt).valueOf())
  .slice(0, 4)


const Design = notes.filter(post => (post.frontmatter.category) == "Design");
const Productivity = notes.filter(post => (post.frontmatter.category) == "Productivity");

const { page } = Astro.props
let pageTitle = 'Manuel Fessens digital garden';
//let pageDescription = `page ${page.currentPage} of all articles`;
let pageDescription = `Manuel Fessens | digital garden`;
let seoTitle = 'Manuel Fessens digital garden';
let seoDescription = 'Welcome to my digital garden â€” a personal wiki. This section is a grab bag of notes on any subject i ilke (but mostly web stuff).';
---

<BaseLayout title={seoTitle} description={seoDescription}>
  <div class="prose max-w-none prose-list-disc leading-6">
    <h1 class="">Notes ðŸŒ±</h1>
    <p class="mb-4">
      Welcome to my <a href="https://maggieappleton.com/garden-history" target="_blank">digital garden</a> â€” a personal wiki. This section is a grab bag of notes on any subject i ilke (but mostly web stuff).
    </p>
  </div>

  <section id="allnotes">
    <hr class="my-2" />
    <div class="grid sm:grid-cols-2 grid-cols-1 gap-8 my-4">
      <NoteList heading="ðŸŽ¨ Design" posts={Design} />
      <NoteList heading="ðŸš€ Productivity" posts={Productivity} />
    </div>
  </section>
</BaseLayout>